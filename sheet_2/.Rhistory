left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(name = name_destination)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(name = name_destination)
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(dest_name = name)
View(flights_frequency_max)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
#table anpassen
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa"))
View(flights_frequency_max)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
#table anpassen
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(dest_name = name) %>%
rename(airline_name = name.x) %>%
rename(origin_name = name.y)
View(flights_frequency_max)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
#table anpassen
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(dest_name = name) %>%
rename(airline_name = name.x) %>%
rename(origin_name = name.y) %>%
select(carrier, airline_name, origin_name, dest_name, frequency)
View(flights_frequency_max)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
#table anpassen
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(destination = name) %>%
rename(airline = name.x) %>%
rename(origin = name.y) %>%
select(carrier, airline, origin, destination, frequency)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
#table anpassen
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(destination = name) %>%
rename(airline = name.x) %>%
rename(start = name.y) %>%
select(carrier, airline, origin, destination, frequency)
View(flights_frequency_max)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
#table anpassen
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(destination = name) %>%
rename(airline = name.x) %>%
rename(start = name.y) %>%
select(carrier, airline, origin, destination, frequency)
View(flights_frequency_max)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
#table anpassen
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(destination = name) %>%
rename(airline = name.x) %>%
rename(start = name.y) %>%
select(carrier, airline, start, destination, frequency)
airports <- airports
airlines <- airlines
flights_2013 <- flights %>% filter(year == 2013)
flights_frequency <- flights_2013 %>%
group_by(carrier, origin, dest) %>%
summarise(frequency = n()) %>%
arrange(desc(frequency))
flights_frequency_max <- flights_frequency %>%
group_by(carrier) %>%
filter(frequency == max(frequency))
#table anpassen
flights_frequency_max <- flights_frequency_max %>%
left_join(airlines, by = c("carrier" = "carrier")) %>%
left_join(airports, by = c("origin" = "faa")) %>%
left_join(airports, by = c("dest" = "faa")) %>%
rename(destination = name) %>%
rename(airline = name.x) %>%
rename(departure = name.y) %>%
select(carrier, airline, departure, destination, frequency)
View(flights_frequency_max)
library("tidyverse")
library("tidyr")
library("dplyr")
library("nycflights13")
dataset <- who
View(dataset)
dataset <- who
df <- data.frame(
Student = c("A", "B", "C"),
Test1 = c(85, 90, 78),
Test2 = c(77, 88, 92),
Test3 = c(89, 76, 84)
)
View(df)
# Die gather() Funktion verwenden, um die Daten umzuwandeln
df_long <- gather(df, key = "Test", value = "Wert", -Student)
View(df_long)
library("tidyverse")
library("tidyr")
library("dplyr")
library("nycflights13")
df <- data.frame(
Student = c("A", "B", "C"),
Test1 = c(85, 90, 78),
Test2 = c(77, 88, 92),
Test3 = c(89, 76, 84)
)
View(df)
df_long <- gather(df, key = "Test", value = "Wert", -Student)
View(df_long)
View(df_long)
# Die gather() Funktion verwenden, um die Daten umzuwandeln
df_long <- gather(df, key = "Test", value = "Wert")
View(df_long)
df_long <- gather(df, key = "Test", value = "Wert", -Student)
View(df_long)
dataset <- who
View(dataset)
dataset <- dataset %>% gather(key = "key", value = "value", -year)
View(dataset)
View(dataset)
#
dataset <- who
View(dataset)
View(dataset)
dataset <- dataset %>% gather(key = "key", value = "value", new_sp_m014:newrel_m3544)
View(dataset)
#
dataset <- who
View(dataset)
dataset <- dataset %>% gather(key = "key", value = "value", new_sp_m014:newrel_m3544)
#
dataset <- who
View(dataset)
#
dataset <- who
View(dataset)
dataset <- dataset %>% gather(key = "key", value = "value", new_sp_m014:newrel_f65)
View(dataset)
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
dataset <- dataset %>%
gather(key = "key", value = "value",new_sp_m014:newrel_f65, na.rm = TRUE)
#
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
View(dataset)
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
gsub("new", "new_", dataset$value)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
gsub("new", "new_", dataset$value)
View(dataset)
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
gsub("new", "new_", dataset$key)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
View(dataset)
dataset$key <- gsub("new", "new_", dataset$key)
View(dataset)
dataset$key <- gsub("_", "_", dataset$key)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
#gsub seperat ausfuehren
dataset$key <- gsub("newrel", "new_rel", dataset$key)
View(dataset)
#Aufgabe 6
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
gsub(dataset$key, "newrel", "new_rel", dataset$key)
View(dataset)
#Aufgabe 6
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
#gsub seperat ausfuehren
dataset$key <- gsub("newrel", "new_rel", dataset$key)
View(dataset)
#Aufgabe 6
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
#gsub seperat ausfuehren
dataset$key <- gsub("newrel", "new_rel", dataset$key)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
#gsub seperat ausfuehren
dataset$key <- gsub("new_", "", dataset$key)
dataset$key <- gsub("new", "", dataset$key)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"newrel", "new_rel")) %>%
mutate(key = strreplace(key,"new", ""))
library("stringr")
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"newrel", "new_rel")) %>%
mutate(key = strreplace(key,"new", ""))
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"newrel", "new_rel")) %>%
mutate(key = str_replace(key,"new", ""))
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"new_", ""))
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"new_", ""))
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", ""))
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_"))
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_")) %>%
#jetzt separieren
dataset <- dataset %>% seperate(key, into = c("diagnose", "gender", "age"), sep = "_")
library("tidyr")
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_")) %>%
#jetzt separieren
dataset <- dataset %>% separate(key, into = c("diagnose", "gender", "age"), sep = "_")
View(dataset)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_")) %>%
separate(key, into = c("diagnose", "gender", "age"), sep = "_")
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_"))
View(dataset)
dataset <- dataset %>% separate(key, into = c("diagnose", "gender", "age"), sep = "_")
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_")) %>%
separate(key, into = c("diagnose", "gender", "age"), sep = "_")
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_")) %>%
separate(key, into = c("diagnose", "gender", "age"), sep = "_")
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_"))
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
View(dataset)
dataset$key <- gsub("new_", "", dataset$key)
dataset$key <- gsub("new", "", dataset$key)
dataset$key <- gsub("m", "m_", dataset$key)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
View(dataset)
dataset$key <- gsub("new_", "", dataset$key)
dataset$key <- gsub("new", "", dataset$key)
dataset$key <- gsub("m", "m_", dataset$key)
dataset$key <- gsub("f", "f_", dataset$key)
dataset <- dataset %>% separate(key, into = c("diagnose", "gender", "age"), sep = "_")
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_")) %>%
mutate(key = str_replace(key,"f", "f_")) %>%
separate(key, into = c("diagnose", "gender", "age"), sep = "_") %>%
dataset <- dataset %>% separate(key, into = c("diagnose", "gender", "age"), sep = "_") %>%
select(-iso2, -iso3)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_")) %>%
mutate(key = str_replace(key,"f", "f_")) %>%
separate(key, into = c("diagnose", "gender", "age"), sep = "_") %>%
dataset <- dataset %>% separate(key, into = c("diagnose", "gender", "age"), sep = "_") %>%
select(-iso2, -iso3)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE) %>%
mutate(key = str_replace(key,"new_", "")) %>%
mutate(key = str_replace(key,"new", "")) %>%
mutate(key = str_replace(key,"m", "m_")) %>%
mutate(key = str_replace(key,"f", "f_")) %>%
separate(key, into = c("diagnose", "gender", "age"), sep = "_") %>%
select(-iso2, -iso3)
View(dataset)
dataset <- who
dataset <- dataset %>%
gather(key = "key", value = "value", new_sp_m014:newrel_f65, na.rm = TRUE)
#gsub immer direkt auf eine Spalte zuweisen
dataset$key <- gsub("new_", "", dataset$key)
dataset$key <- gsub("new", "", dataset$key)
dataset$key <- gsub("m", "m_", dataset$key)
dataset$key <- gsub("f", "f_", dataset$key)
dataset <- dataset %>% separate(key, into = c("diagnose", "gender", "age"), sep = "_") %>%
select(-iso2, -iso3)
View(dataset)
production <-
expand_grid(
product = c("A", "B"),
country = c("AI", "EI"),
year = 2000:2014)
View(production)
production <-
expand_grid(
product = c("A", "B"),
country = c("AI", "EI"),
year = 2000:2014) %>%
filter((product == "A" & country == "AI") | product == "B")
View(production)
production <-
expand_grid(
product = c("A", "B"),
country = c("AI", "EI"),
year = 2000:2014) %>%
filter((product == "A" & country == "AI") | product == "B") %>%
mutate(production = rnorm(nrow(.)))
View(production)
production_messy <- production %>%
mutate(x = str_c(product, country, sep = "_"))
View(production_messy)
production_messy <- production %>%
mutate(x = str_c(product, country, sep = "_")) %>%
spread(key = x, value = production)
View(production_messy)
production_messy <- production %>%
mutate(x = str_c(product, country, sep = "_")) %>%
spread(key = x, value = production) %>%
select(-product, -country)
production_messy <- production %>%
mutate(x = str_c(product, country, sep = "_")) %>%
select(-product, -country) %>%
spread(key = x, value = production)
View(production_messy)
production <-
expand_grid(
product = c("A", "B"),
country = c("AI", "EI"),
year = 2000:2014) %>%
filter((product == "A" & country == "AI") | product == "B") %>%
mutate(production = rnorm(nrow(.)))
production_messy <- production %>%
mutate(x = str_c(product, country, sep = "_"))
production_messy <- production %>%
mutate(x = str_c(product, country, sep = "_")) %>%
select(-product, -country)
View(production)
production_messy <- production %>%
mutate(x = str_c(product, country, sep = "_")) %>%
select(-product, -country)
View(production_messy)
